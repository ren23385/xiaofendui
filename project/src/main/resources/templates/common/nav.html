<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div id="hd" class="col-12" th:fragment="nav">
			<div id="tools">
				<div class="top">  				
    				<ul>
                		<li class="welcome">
                			<a>
                				欢迎光临 小鬼当家
                			</a>
                		</li>
                		<li>
                			<a name="nav2" target="_blank" href="#" class="nav">
                				登陆
                			</a>
                		</li>
                		<li>
                			<a name="nav2" target="_blank" href="#" class="nav">
                				注册
                			</a>
                		</li>
                		<li>
                			<a name="nav2" target="_blank" href="#" class="nav">
                				我的购物车
                			</a>
                		</li>
            		</ul>
        			
        		</div>    		
        		<form action="#" method="post" class="form-inline search">
        			<input class="form-control col-4" type="search" placeholder="Search" aria-label="Search" name="name">
      				<button class="btn btn-outline-success" type="submit">搜索</button>
        		</form>
        	</div>
        	<hr style="height: 5px;color: red;margin-top: 5px;margin-bottom: 0px;">
        	<div class="sub" id="nav">
        	<ul>
        		<template v-if="!totalTypes || !totalTypes.length">
					<div class="book_cate">
						<a href="#">暂无数据</a>
					</div>
				</template>
				<template v-else="">
    			<div   v-for="totalType in totalTypes" v-key="">
    			<li>
    				<input id="total" type="hidden" v-model="totalType.id" name="bigtype"/>
    				<a name="nav2" v-bind:href="'toBookList?totalType='+totalType.id">{{totalType.bookType}}</a>
    			</li>
    			</div>
    			 </template>
            </ul>
           
			</div>
       	</div>
     <script type="text/javascript">	
	
	var app = new Vue({
		el:"#nav",
		data:{
			//设置默认值
			totalTypes:{
			}
		},
		
		created(){
			this.getData()
		},
		
		methods:{
			getInfo:function(){		    
			    let obj = {
			       getTotalTypes:axios.post("totalTypes")
			    }
		    
		   		return obj
			},	
			getData:function(){
				let _this = this;
				
				axios.all([ _this.getInfo().getTotalTypes]).then(axios.spread(function (acct) {
					
					console.log(acct.data.totalTypes);
					_this.totalTypes = acct.data.totalTypes;

			 	})).catch(function(error){

				}); 
			}
		}

	});
	</script>   
          
	</body>
</html>
